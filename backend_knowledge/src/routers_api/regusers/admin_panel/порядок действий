выдача кода через ТГ или почту
-------------- функция активация юзера------------------
находим юзера
проверяем что он активировал аккаунт по ссылке из письма
берем из формы от юзера код активации
проверяем что он есть в базе кодов активации и что его можно использовать, что его не актировали еще
если все ок, то активируем пользователя, далем его сервисы service_active активными True
делаем код активации активированным для данного юзера, это означет что его повторно нельзя использовать
коммит

попробовать сделать функцию и роут самому...... ост тут

сделать в токене поле с пунктом об активации сервисов


!!!!!!!!!!!!!!!!!!!!!!!!
в зависимости юзера нужно сделать проверку, что если пользак не активирован, то давать доступ в сервисы нельзя
!!!!!!!!!!!!!!!!!!!!!!!!




пересмотреть зависимость при декодировании jwt
сделать проверку на активацию сервиса и возвращать ее

# сделал проверку на сервисы в custom_token_check, чтобы не переписывать все сервисные функции. Для ввода кода активации использовать другую зависимость или отдельную функцию проверки сделать. 


так как при активации юзера нужно проверить код активации в базе, соответственно код активации надо добавить в базу
его добавляет админ
админов изначально нет
если админа нет надо его добавить
сделать добавление админа - создание суперадмина надо сделать, пока оставил!!!!!!!!!!!!!!!!!
и сначала сделать первичное добавление админа
далее сделать добавление кода активации админом - создание
сделать получение списка кодов активации со статусами и если он активирован то указать почту какой юзер его активировал и какой админ его создал
сделать действия с кодами - деактивировать код активации от юзера и убрать активацию самого юзера
удалить код активации, активированный код нельзя удалить, сначала деактивировать код и юзера
сделать функцию активации сервисов юзера по коду активации



подумать что делать с временем истечения кода активации. Если код активирован, то что делать с временем истечения кода активации?


в токен пользака закинул активность юзера и роль

